<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>WASM-PDF</title>
    <script src="./index.js"></script>
</head>

<body>
    <p>
        One moment, creating PDF...
    </p>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            fetch("./examples/text-example.json")
                .then(response => {
                    return response.json();
                })
                .then(doc => {
                    // Change the title to show date (now)
                    let date = new Date().toLocaleString();
                    let title = doc.contents[0].params;
                    title.text += " (created: " + date + ")";
                    createPDF(doc);
                });
        });

        let jsonOut = (data) => {
            console.log(JSON.stringify(data));
        };
    </script>
</body>
</html>